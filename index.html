<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">

<meta name="viewport"
      content="width=device-width,
               initial-scale=1,
               viewport-fit=cover">

<title>Welcome</title>

<!-- Preload next possible pages -->
<link rel="prefetch" href="work.html">
<link rel="prefetch" href="index.html">

<style>
html,body{
  margin:0;
  padding:0;
  background:#000;
  overflow:hidden;
  cursor:none;
}

body{
  height:100dvh;
  height:-webkit-fill-available;
}

.bg-video{
  position:fixed;
  top:0;
  left:0;
  width:100vw;
  height:100dvh;
  height:-webkit-fill-available;
  object-fit:cover;
  z-index:0;
}
</style>
</head>

<body>

<video id="bgvid"
       class="bg-video"
       src="video.mp4"
       autoplay
       muted
       playsinline
       preload="auto">
</video>

<script>
const video = document.getElementById("bgvid");
let tappedOnce = false;

/* ensure autoplay actually triggers everywhere */
window.addEventListener("load", () => {
  video.play().catch(()=>{});
});

/* play once â†’ redirect */
video.addEventListener("ended", () => {
  window.location.href = "index.html";
});

/* first tap = unmute | second tap = redirect */
window.addEventListener("pointerdown", () => {

  if(!tappedOnce){
    tappedOnce = true;
    video.muted = false;
    video.play().catch(()=>{});
    return;
  }

  window.location.href = "work.html";
});
</script>

</body>
</html>
