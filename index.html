<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">

<meta name="viewport"
      content="width=device-width,
               initial-scale=1,
               viewport-fit=cover">

<title>Welcome</title>

<!-- Preload next pages -->
<link rel="prefetch" href="https://mrene.org/work.html">
<link rel="prefetch" href="https://mrene.org/index.html">

<style>
html,body{
  margin:0;
  padding:0;
  background:#000;
  overflow:hidden;
  cursor:none;
}

body{
  height:100dvh;
  height:-webkit-fill-available;
}

.bg-video{
  position:fixed;
  top:0;
  left:0;
  width:100vw;
  height:100dvh;
  height:-webkit-fill-available;
  object-fit:cover;
  z-index:0;
}
</style>
</head>

<body>

<video id="bgvid"
       class="bg-video"
       src="video.mp4"
       autoplay
       muted
       playsinline
       webkit-playsinline
       preload="auto">
</video>

<script>
const video = document.getElementById("bgvid");

let tappedOnce = false;
let redirected = false;

/* force autoplay */
window.addEventListener("load", () => {
  video.play().catch(()=>{});
});

/* redirect safely once */
function goNext(){
  if (redirected) return;
  redirected = true;
  window.location.replace("https://mrene.org/work.html");
}

/* when video finishes */
video.addEventListener("ended", goNext);

/* first tap = unmute | second tap = skip */
window.addEventListener("pointerdown", () => {

  if(!tappedOnce){
    tappedOnce = true;
    video.muted = false;
    video.play().catch(()=>{});
    return;
  }

  goNext();
});
</script>

</body>
</html>
